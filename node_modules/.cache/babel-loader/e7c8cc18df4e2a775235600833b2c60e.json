{"ast":null,"code":"import { CONSTANTS } from \"../actions\";\nlet listID = 2;\nlet cardID = 6;\nconst initialState = [{\n  title: \"BACKLOG\",\n  id: `list-${ListID}`,\n  cards: [{\n    id: `card-${0}`,\n    text: \"Create User Stories\"\n  }, {\n    id: `card-${1}`,\n    text: \"j'ai pas d'idées de texte, c'est super\"\n  }]\n}, {\n  title: \"PLANNING\",\n  id: `list-${1}`,\n  cards: [{\n    id: `card-${2}`,\n    text: \"TO-DO tasks\"\n  }, {\n    id: `card-${3}`,\n    text: \"j'ai toujours pas d'idées de tâches, c'est dingue\"\n  }, {\n    id: `card-${4}`,\n    text: \"ça devient difficile d'avoir des idées qui viennent de nulle part, mon cerveau bouille\"\n  }, {\n    id: `card-${5}`,\n    text: \"need to debug rn arghhh ... wouhou I did it \"\n  }]\n}];\n\nconst listsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CONSTANTS.ADD_LIST:\n      const newList = {\n        title: action.payload,\n        cards: [],\n        id: `list-${listID}`\n      };\n      listID += 1;\n      return [...state, newList];\n\n    case CONSTANTS.ADD_CARD:\n      {\n        const newCard = {\n          text: action.payload.text,\n          id: `card-${cardID}`\n        };\n        cardID += 1;\n        const newState = state.map(list => {\n          if (list.id === action.payload.listID) {\n            return { ...list,\n              cards: [...list.cards, newCard]\n            };\n          } else {\n            return list;\n          }\n        });\n        return newState;\n      }\n\n    case CONSTANTS.DRAG_HAPPENED:\n      const {\n        droppableIdStart,\n        droppableIdEnd,\n        droppableIndexStart,\n        droppableIndexEnd // draggableId\n\n      } = action.payload;\n      const newState = [...state]; //in the same list\n\n      if (droppableIdStart === droppableIdEnd) {\n        console.log(state);\n        const list = state.find(list => droppableIdStart === list.id);\n        const card = list.cards.splice(droppableIndexStart, 1);\n        list.cards.splice(droppableIndexEnd, 0, ...card);\n      }\n\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nexport default listsReducer;","map":{"version":3,"sources":["/Users/soumaya/Documents/BECODE2020/scrumboard/scrumboard/src/reducers/listsReducer.js"],"names":["CONSTANTS","listID","cardID","initialState","title","id","ListID","cards","text","listsReducer","state","action","type","ADD_LIST","newList","payload","ADD_CARD","newCard","newState","map","list","DRAG_HAPPENED","droppableIdStart","droppableIdEnd","droppableIndexStart","droppableIndexEnd","console","log","find","card","splice"],"mappings":"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","sourcesContent":["import { CONSTANTS } from \"../actions\";\n\nlet listID = 2;\nlet cardID = 6;\n\nconst initialState = [\n    {\n        title: \"BACKLOG\",\n        id: `list-${ListID}`,\n        cards: [\n            {\n                id: `card-${0}`,\n                text: \"Create User Stories\"\n            },\n            {\n                id: `card-${1}`,\n                text: \"j'ai pas d'idées de texte, c'est super\"\n            }\n        ]\n    },\n    {\n        title: \"PLANNING\",\n        id: `list-${1}`,\n        cards: [\n            {\n                id:`card-${2}`,\n                text: \"TO-DO tasks\"\n            },\n            {\n                id: `card-${3}`,\n                text: \"j'ai toujours pas d'idées de tâches, c'est dingue\"\n            },\n            {\n                id: `card-${4}`,\n                text: \"ça devient difficile d'avoir des idées qui viennent de nulle part, mon cerveau bouille\"\n            },\n            {\n                id: `card-${5}`,\n                text: \"need to debug rn arghhh ... wouhou I did it \"\n            }\n        ]\n    }\n\n];\n\n\n\nconst listsReducer = (state = initialState, action) => {\n    switch (action.type) {\n\n        case CONSTANTS.ADD_LIST:\n            const newList = {\n                title: action.payload,\n                cards: [],\n                id: `list-${listID}`\n            };\n            listID += 1;\n            return [...state, newList];\n        \n        case CONSTANTS.ADD_CARD: {\n            const newCard = {\n                text: action.payload.text,\n                id: `card-${cardID}`\n            }\n            cardID += 1;\n\n            const newState = state.map(list => {\n                if(list.id === action.payload.listID) {\n                    return {\n                        ...list,\n                        cards: [...list.cards, newCard]\n                    }\n                } else {\n                    return list;\n                }\n            });\n\n            return newState;\n        }\n\n        case CONSTANTS.DRAG_HAPPENED:\n\n        const {\n            droppableIdStart,\n            droppableIdEnd,\n            droppableIndexStart,\n            droppableIndexEnd,\n            // draggableId\n        } = action.payload;\n            const newState = [...state];\n\n            //in the same list\n            if(droppableIdStart === droppableIdEnd) {\n                console.log(state)\n                const list = state.find(list => droppableIdStart === list.id)\n                const card = list.cards.splice(droppableIndexStart, 1)\n                list.cards.splice(droppableIndexEnd, 0, ...card)\n            }\n\n            return newState;\n\n        default: \n            return state;\n    }\n};\n\nexport default listsReducer;"]},"metadata":{},"sourceType":"module"}