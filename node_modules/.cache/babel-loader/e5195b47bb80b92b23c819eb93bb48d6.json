{"ast":null,"code":"import { CONSTANTS } from \"../actions\"; // let listID = 2;\n// let cardID = 6;\n\nconst initialState = {\n  \"list-0\": {\n    id: \"list-0\",\n    cards: [\"card-0\"],\n    title: \"myList\",\n    board: \"board-0\"\n  }\n}; // const initialState = [\n//     {\n//         title: \"BACKLOG\",\n//         id: `list-${0}`,\n//         cards: [\n//             {\n//                 id: `card-${0}`,\n//                 text: \"Create User Stories\"\n//             },\n//             {\n//                 id: `card-${1}`,\n//                 text: \"j'ai pas d'idées de texte, c'est super\"\n//             }\n//         ]\n//     },\n//     {\n//         title: \"PLANNING\",\n//         id: `list-${1}`,\n//         cards: [\n//             {\n//                 id:`card-${2}`,\n//                 text: \"TO-DO tasks\"\n//             },\n//             {\n//                 id: `card-${3}`,\n//                 text: \"j'ai toujours pas d'idées de tâches, c'est dingue\"\n//             },\n//             {\n//                 id: `card-${4}`,\n//                 text: \"ça devient difficile d'avoir des idées qui viennent de nulle part, mon cerveau bouille\"\n//             },\n//             {\n//                 id: `card-${5}`,\n//                 text: \"need to debug rn arghhh ... wouhou I did it \"\n//             }\n//         ]\n//     }\n// ];\n\nconst listsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CONSTANTS.ADD_LIST:\n      const newList = {\n        title: action.payload,\n        cards: [],\n        id: `list-${listID}`\n      };\n      listID += 1;\n      return [...state, newList];\n\n    case CONSTANTS.ADD_CARD:\n      {\n        const newCard = {\n          text: action.payload.text,\n          id: `card-${cardID}`\n        };\n        cardID += 1;\n        const newState = state.map(list => {\n          if (list.id === action.payload.listID) {\n            return { ...list,\n              cards: [...list.cards, newCard]\n            };\n          } else {\n            return list;\n          }\n        });\n        return newState;\n      }\n\n    case CONSTANTS.DRAG_HAPPENED:\n      const {\n        droppableIdStart,\n        droppableIdEnd,\n        droppableIndexStart,\n        droppableIndexEnd,\n        draggableId\n      } = action.payload;\n      const newState = [...state]; //in the same list\n\n      if (droppableIdStart === droppableIdEnd) {\n        console.log(state);\n        const list = state.find(list => droppableIdStart === list.id);\n        const card = list.cards.splice(droppableIndexStart, 1);\n        list.cards.splice(droppableIndexEnd, 0, ...card);\n      }\n\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nexport default listsReducer;","map":{"version":3,"sources":["/Users/soumaya/Documents/BECODE2020/scrumboard/scrumboard/src/reducers/listsReducer.js"],"names":["CONSTANTS","initialState","id","cards","title","board","listsReducer","state","action","type","ADD_LIST","newList","payload","listID","ADD_CARD","newCard","text","cardID","newState","map","list","DRAG_HAPPENED","droppableIdStart","droppableIdEnd","droppableIndexStart","droppableIndexEnd","draggableId","console","log","find","card","splice"],"mappings":"AAAA,SAASA,SAAT,QAA0B,YAA1B,C,CAEA;AACA;;AAEA,MAAMC,YAAY,GAAG;AACjB,YAAU;AACRC,IAAAA,EAAE,EAAE,QADI;AAERC,IAAAA,KAAK,EAAE,CAAC,QAAD,CAFC;AAGRC,IAAAA,KAAK,EAAE,QAHC;AAIRC,IAAAA,KAAK,EAAE;AAJC;AADO,CAArB,C,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,MAAMC,YAAY,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AACnD,UAAQA,MAAM,CAACC,IAAf;AAEI,SAAKT,SAAS,CAACU,QAAf;AACI,YAAMC,OAAO,GAAG;AACZP,QAAAA,KAAK,EAAEI,MAAM,CAACI,OADF;AAEZT,QAAAA,KAAK,EAAE,EAFK;AAGZD,QAAAA,EAAE,EAAG,QAAOW,MAAO;AAHP,OAAhB;AAKAA,MAAAA,MAAM,IAAI,CAAV;AACA,aAAO,CAAC,GAAGN,KAAJ,EAAWI,OAAX,CAAP;;AAEJ,SAAKX,SAAS,CAACc,QAAf;AAAyB;AACrB,cAAMC,OAAO,GAAG;AACZC,UAAAA,IAAI,EAAER,MAAM,CAACI,OAAP,CAAeI,IADT;AAEZd,UAAAA,EAAE,EAAG,QAAOe,MAAO;AAFP,SAAhB;AAIAA,QAAAA,MAAM,IAAI,CAAV;AAEA,cAAMC,QAAQ,GAAGX,KAAK,CAACY,GAAN,CAAUC,IAAI,IAAI;AAC/B,cAAIA,IAAI,CAAClB,EAAL,KAAYM,MAAM,CAACI,OAAP,CAAeC,MAA/B,EAAuC;AACnC,mBAAO,EACH,GAAGO,IADA;AAEHjB,cAAAA,KAAK,EAAE,CAAC,GAAGiB,IAAI,CAACjB,KAAT,EAAgBY,OAAhB;AAFJ,aAAP;AAIH,WALD,MAKO;AACH,mBAAOK,IAAP;AACH;AACJ,SATgB,CAAjB;AAWA,eAAOF,QAAP;AACH;;AAED,SAAKlB,SAAS,CAACqB,aAAf;AAEA,YAAM;AACFC,QAAAA,gBADE;AAEFC,QAAAA,cAFE;AAGFC,QAAAA,mBAHE;AAIFC,QAAAA,iBAJE;AAKFC,QAAAA;AALE,UAMFlB,MAAM,CAACI,OANX;AAOI,YAAMM,QAAQ,GAAG,CAAC,GAAGX,KAAJ,CAAjB,CATJ,CAWI;;AACA,UAAGe,gBAAgB,KAAKC,cAAxB,EAAwC;AACpCI,QAAAA,OAAO,CAACC,GAAR,CAAYrB,KAAZ;AACA,cAAMa,IAAI,GAAGb,KAAK,CAACsB,IAAN,CAAWT,IAAI,IAAIE,gBAAgB,KAAKF,IAAI,CAAClB,EAA7C,CAAb;AACA,cAAM4B,IAAI,GAAGV,IAAI,CAACjB,KAAL,CAAW4B,MAAX,CAAkBP,mBAAlB,EAAuC,CAAvC,CAAb;AACAJ,QAAAA,IAAI,CAACjB,KAAL,CAAW4B,MAAX,CAAkBN,iBAAlB,EAAqC,CAArC,EAAwC,GAAGK,IAA3C;AACH;;AAED,aAAOZ,QAAP;;AAEJ;AACI,aAAOX,KAAP;AAtDR;AAwDH,CAzDD;;AA2DA,eAAeD,YAAf","sourcesContent":["import { CONSTANTS } from \"../actions\";\n\n// let listID = 2;\n// let cardID = 6;\n\nconst initialState = {\n    \"list-0\": {\n      id: \"list-0\",\n      cards: [\"card-0\"],\n      title: \"myList\",\n      board: \"board-0\"\n    }\n  };\n\n// const initialState = [\n//     {\n//         title: \"BACKLOG\",\n//         id: `list-${0}`,\n//         cards: [\n//             {\n//                 id: `card-${0}`,\n//                 text: \"Create User Stories\"\n//             },\n//             {\n//                 id: `card-${1}`,\n//                 text: \"j'ai pas d'idées de texte, c'est super\"\n//             }\n//         ]\n//     },\n//     {\n//         title: \"PLANNING\",\n//         id: `list-${1}`,\n//         cards: [\n//             {\n//                 id:`card-${2}`,\n//                 text: \"TO-DO tasks\"\n//             },\n//             {\n//                 id: `card-${3}`,\n//                 text: \"j'ai toujours pas d'idées de tâches, c'est dingue\"\n//             },\n//             {\n//                 id: `card-${4}`,\n//                 text: \"ça devient difficile d'avoir des idées qui viennent de nulle part, mon cerveau bouille\"\n//             },\n//             {\n//                 id: `card-${5}`,\n//                 text: \"need to debug rn arghhh ... wouhou I did it \"\n//             }\n//         ]\n//     }\n\n// ];\n\nconst listsReducer = (state = initialState, action) => {\n    switch (action.type) {\n\n        case CONSTANTS.ADD_LIST:\n            const newList = {\n                title: action.payload,\n                cards: [],\n                id: `list-${listID}`\n            };\n            listID += 1;\n            return [...state, newList];\n        \n        case CONSTANTS.ADD_CARD: {\n            const newCard = {\n                text: action.payload.text,\n                id: `card-${cardID}`\n            };\n            cardID += 1;\n\n            const newState = state.map(list => {\n                if (list.id === action.payload.listID) {\n                    return {\n                        ...list,\n                        cards: [...list.cards, newCard]\n                    }\n                } else {\n                    return list;\n                }\n            });\n\n            return newState;\n        }\n\n        case CONSTANTS.DRAG_HAPPENED:\n\n        const {\n            droppableIdStart,\n            droppableIdEnd,\n            droppableIndexStart,\n            droppableIndexEnd,\n            draggableId\n        } = action.payload;\n            const newState = [...state];\n\n            //in the same list\n            if(droppableIdStart === droppableIdEnd) {\n                console.log(state)\n                const list = state.find(list => droppableIdStart === list.id);\n                const card = list.cards.splice(droppableIndexStart, 1)\n                list.cards.splice(droppableIndexEnd, 0, ...card)\n            }\n\n            return newState;\n\n        default: \n            return state;\n    }\n};\n\nexport default listsReducer;"]},"metadata":{},"sourceType":"module"}